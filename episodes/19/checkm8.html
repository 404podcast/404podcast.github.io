<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Chiếu bí iPhone</title>
  <meta name="description" content="Credit: Alessandro De Carli / EyeEm / Getty Images / WIREDTrong kỳ ra mắt, chúng tôi bàn về một công cụ jailbreak iPhone mới được công bố. Bạn có thể nghe tr...">

  <!-- Google Fonts loaded here depending on setting in _data/options.yml true loads font, blank does not-->
  
    <link href="https://fonts.googleapis.com/css?family=EB+Garamond&display=swap" rel="stylesheet">
  
  
  <!-- Load up MathJax script if needed ... specify in /_data/options.yml file-->
  
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  

  <link rel="stylesheet" type="text/css" href="/css/tufte.css">
  <!-- <link rel="stylesheet" type="text/css" href="/css/print.css" media="print"> -->

  <link rel="canonical" href="https://www.404podcast.org/episodes/19/checkm8">

  <link rel="alternate" type="application/rss+xml" title="404podcast" href="https://www.404podcast.org/feed.xml" />
</head>

  <body>
    <!--- Header and nav template site-wide -->
<header>
    <nav class="group">
	<a href="/"><img class="badge" src="/assets/img/404s.png" alt="CH"></a>
	
		
  	
		
		    
		      <a href="/">công nghệ 4.04</a>
		    
	    
  	
		
		    
		      <a href="/about/">giới thiệu</a>
		    
	    
  	
		
		    
		      <a href="/css/print.css"></a>
		    
	    
  	
		
  	
	</nav>
</header>

    <article class="group">
      <h1>Chiếu bí iPhone</h1>
<p class="subtitle">October 1, 2019</p>



<audio controls width="100%">
  <source src="https://storage.googleapis.com/404podcast/files/404podcast1_checkm8_jailbreak.ogg" type="audio/ogg">
  <source src="https://storage.googleapis.com/404podcast/files/404podcast1_checkm8_jailbreak.mp3" type="audio/mpeg">
  Your browser does not support playing the file here. Please download the file: <a href="https://storage.googleapis.com/404podcast/files/404podcast1_checkm8_jailbreak.ogg">OGG</a> or <a href="https://storage.googleapis.com/404podcast/files/404podcast1_checkm8_jailbreak.mp3">MP3</a>
</audio>


<figure class="fullwidth"><img src="/assets/posts/wired-apple-jailbreak.jpg" /><figcaption>Credit: Alessandro De Carli / EyeEm / Getty Images / WIRED</figcaption></figure>

<p>Trong kỳ ra mắt, chúng tôi bàn về một công cụ jailbreak iPhone mới được công bố. Bạn có thể nghe trực tiếp trên trang web này, <a href="https://storage.googleapis.com/404podcast/files/404podcast1_checkm8_jailbreak.mp3">tải về</a> hoặc đăng ký nghe (Subscribe) bằng iTunes, Google Play, <a href="https://pca.st/55mgqf4b">Pocket Casts</a>, Spotify hoặc bất cứ công cụ nghe Podcast nào mà bạn hay dùng (Khi bài này được đưa lên thì chúng tôi vẫn đang chờ sự đồng ý của Google, Apple và Spotify, nên có thể bạn sẽ chưa tìm thấy. Hy vọng nay mai chúng tôi sẽ được duyệt.)</p>

<p>Dưới đây là tóm tắt của podcast này.</p>

<!--more-->

<p>Ngày 27/9/2019 một chuyên gia với bí danh axiomx, tức Tiên Đề X, tung ra một công cụ bom tấn tên là <a href="https://github.com/axi0mX/ipwndfu">checkm8</a>, tức Chiếu Bí, cho phép jailbreak hầu hết các phiên bản iPhone có trên thị trường. Công cụ jailbreak không phải là hiếm, nhưng điểm đặc biệt của Chiếu Bí là Apple sẽ không thể nào ngăn được nó. Tại sao lại như vậy?</p>

<p>Trước tiên chúng ta cần phải hiểu jailbreak là làm gì. Đây là đề tài rất thú vị vì nó liên quan đến chuyện gì diễn ra khi chúng ta bấm nút power để khởi động iPhone. Lúc đó iPhone sẽ thực hiện một quá trình gọi là Verified Boot, tức là khởi động có kiểm soát. Verified Boot đảm bảo phần mềm chạy trên chiếc điện thoại của bạn là phần mềm đã được Apple cho phép. Vậy Verified Boot hoạt động như thế nào?</p>

<p>Để trả lời câu hỏi này chúng ta hãy xem qua quá trình khởi động của một chiếc máy tính bình thường. Quá trình này bao gồm nhiều giai đoạn. Khi bạn bấm nút power, đoạn chương trình đầu tiên được chạy là BIOS, viết tắt của Basic Input Output System. Đây là chương trình rất nhỏ, chỉ vài trăm KB. Ngày nay chương trình này phức tạp hơn và được gọi là UEFI nhưng ý tưởng vẫn như BIOS. Ví dụ, trên một chiếc Chromebook, chương trình UEFI/BIOS này chỉ gói gọn trên một con chip 64MBit tức là 8MB gắn liền với bo mạch chủ.</p>

<figure><figcaption>Bạn có thể chạy chương trình UEFI của mình bằng cách gửi chương trình của mình cho chip trên máy Chromebook. Credit: wasabi / 404podcast</figcaption><img src="/assets/posts/chromebook-soic.jpg" /></figure>

<p>BIOS có nhiệm vụ kiểm tra sơ bộ các thiết bị phần cứng rồi chuyển giao việc khởi động cho một chương trình lớn hơn ở trên ổ cứng, gọi là boot loader. Boot loader có nhiệm vụ kiểm tra, nạp lõi hệ điều hành và chuyển giao cho lõi hệ điều hành. Lõi hệ điều hành tiếp tục nạp các chương trình lớn hơn, để cuối cùng chúng ta có giao diện đồ họa thân thiện như bạn thấy. Tất cả quá trình này chỉ tốn vài chục giây.</p>

<p>Một chiếc điện thoại iPhone cũng là một chiếc máy tính thu nhỏ và phần lớn các giai đoạn để khởi động điện thoại rất giống với một chiếc máy tính thông thường. Điểm khác biệt duy nhất là thay vì bạn có BIOS thì bạn có một chương trình không thay đổi được (read-only), được ghi trên một bộ phận phần cứng đặc biệt gọi là BootROM. BootROM này được Apple dùng với hai mục đích. Múc đích đầu tiên là chỗ dựa cuối cùng khi phần mềm trên điện thoại bị hư, ví dụ như khi quá trình cập nhật phần mềm gặp sự cố. Mục đích thứ hai của BootROM là giúp Apple đảm bảo iPhone chỉ chạy hệ điều hành của Apple. Tìm cách vượt qua được cơ chế này chính là jailbreak.</p>

<p>Cách mà BootROM hoạt động cũng khá đơn giản. Nó sẽ nạp boot loader vào bộ nhớ, kiểm tra sự toàn vẹn và nguồn gốc của boot loader, đảm bảo boot loader là do Apple tạo ra và không bị thay đổi. Sau đó nó sẽ chuyển giao quyền thực thi cho boot loader. Bình thường thì BootROM chỉ nạp boot loader từ ổ cứng của điện thoại, nhưng BootROM còn có thể tải thông qua USB, khi người dùng đưa điện thoại vào chế độ Recovery, tức là khôi phục điện thoại. Đoạn mã của BootROM khi tương tác với USB có lỗi và công cụ jailbreak Chiếu Bí khai thác lỗ hổng này để đánh lừa BootROM, cung cấp cho nó một boot loader mạo danh. Boot loader mạo danh này có thể tiếp tục nạp một lõi hệ điều hành không phải do Apple tạo ra.</p>

<p><label for="mf-redsn0w" class="margin-toggle">⊕</label><input type="checkbox" id="mf-redsn0w" class="margin-toggle" /><span class="marginnote"><img class="fullwidth" src="/assets/posts/redsn0w-pwned-boot.jpg" /><br />iPhone 4 chạy redsn0w. Credit: iphonefaq / iphonefaq.org/archives/971711</span></p>

<p>Khi khai thác thành công lỗ hổng này, bạn có thể thay đổi ví dụ như hình trái táo của Apple bằng hình của bạn. Vài năm trước, tôi có nhớ một lỗ hổng tương tự, một nhà phát triển tráo hình trái táo bằng hình trái dứa lên trên chiếc iPhone 3GS của mình, đó là jailbreak gọi là redsn0w được coi là một kỳ tích lúc bấy giờ.</p>

<p>Vậy thì đối với một người dùng bình thường, điều này có ảnh hưởng gì?</p>

<p>Trước tiên, những dòng iPhone mới hơn như iPhone XS, XR hay 11 không bị ảnh hưởng. Nên nếu nhà có điều kiện thì bạn hãy nâng cấp ;-).</p>

<p>Nếu iPhone cũ hơn thì cũng đừng quá lo lắng. Để khai thác được lỗ hổng này thì kẻ tấn công phải chôm được iPhone của bạn. Để tự bảo vệ, bạn nên cài đặt một mật khẩu cho điện thoại. Lúc này đây dữ liệu của bạn sẽ được mã hóa và chìa khoá giải mã được lưu trong một bộ phận phần cứng tên là Secure Enclave. Nếu không biết mật khẩu của bạn thì không ai có thể giải mã và đánh cắp dữ liệu mà bạn lưu trên điện thoại.</p>

<p>Tuy nhiên, nếu điện thoại của bạn rơi vào tay người khác, dẫu chỉ trong một thời gian ngắn, thì nếu muốn người ta vẫn có thể cài đặt mã độc vào điện thoại. Khi bạn nhận lại và mở khóa điện thoại thì mã độc có thể chôm mật khẩu và dữ liệu của bạn. Để tự vệ, mỗi khi nhận lại điện thoại từ ai khác, bạn hãy khởi động lại điện thoại trước khi sử dụng.</p>



<div id="disqus_thread"></div>
<script>

var disqus_config = function () {
this.page.url = "https://www.404podcast.org/episodes/19/checkm8";
this.page.identifier = "/episodes/19/checkm8";
};
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = 'https://cong-nghiep-4-0-4.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<script id="dsq-count-scr" src="//cong-nghiep-4-0-4.disqus.com/count.js" async></script>


    </article>
    <span class="print-footer">Chiếu bí iPhone - October 1, 2019 - Công nghệ 404</span>
    <footer>
  <hr class="slender">
  <ul class="footer-links">
    
      <li>
        <a href="//github.com/404podcast"><span class="icon-github"></span></a>
      </li>
    
      <li>
        <a href="/feed.xml"><span class="icon-feed"></span></a>
      </li>
      
  </ul>
<div class="credits">
<span>&copy; 2019 &nbsp;&nbsp;CÔNG NGHỆ 404</span></br> <br>
<!--
<span>This site created with the <a href="//github.com/clayh53/tufte-jekyll">Tufte theme for Những câu chuyện từ hai hackers ở xứ Silicon Valley. </a> in <a href="//jekyllrb.com">Jekyll</a>.</span> 
-->
</div>  
</footer>

  </body>
</html>
